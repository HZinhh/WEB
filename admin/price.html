<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Quản lý Giá bán</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.2/font/bootstrap-icons.css"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Barlow&family=Josefin+Sans&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="./css/nav.css" />
    <link rel="stylesheet" href="./css/product.css" />
    <link rel="shortcut icon" href="./img/favicon.png" type="image/x-icon" />
    <link rel="stylesheet" href="./css/invalid.css" />
  </head>
  <body>
    <main class="row m-0">
      <section class="col left"></section>

      <section class="col right">
        <h1 class="text-center fw-bold my-3">QUẢN LÝ GIÁ BÁN & LỢI NHUẬN</h1>

        <div class="card m-2">
          <div class="card-body">
            <h5 class="card-title">Thiết lập lợi nhuận theo loại sản phẩm</h5>
            <div class="row g-3">
              <div class="col-md-5">
                <label for="select-type" class="form-label"
                  >Chọn loại sản phẩm</label
                >
                <select id="select-type" class="form-select"></select>
              </div>
              <div class="col-md-4">
                <label for="type-profit-percent" class="form-label"
                  >Nhập % lợi nhuận</label
                >
                <div class="input-group">
                  <input
                    type="number"
                    class="form-control"
                    id="type-profit-percent"
                    min="0"
                    placeholder="Ví dụ: 20"
                  />
                  <span class="input-group-text">%</span>
                </div>
              </div>
              <div class="col-md-3 align-self-end">
                <button
                  class="btn btn-primary w-100"
                  onclick="applyProfitToType()"
                >
                  Áp dụng cho loại
                </button>
              </div>
            </div>
          </div>
        </div>

        <div class="row m-2">
          <div class="col-6 mb-2">
            <button class="btn btn-success" onclick="loadPriceList()">
              Tải lại bảng
            </button>
          </div>
          <div class="col-6">
            <div class="input-group justify-content-end">
              <input
                type="search"
                placeholder="Tìm kiếm sản phẩm, Giá nhập, %Lợi nhuận, Giá bán"
                class="search"
                id="searchPrice"
              />
              <div class="input-group-append">
                <button
                  class="btn btn-warning search-button"
                  onclick="searchPrice()"
                >
                  <i class="bi bi-search"></i>
                </button>
              </div>
            </div>
          </div>
          <div class="col">
            <table class="text-center table table-bordered table-hover">
              <thead>
                <tr class="table-danger align-middle">
                  <th>ID</th>
                  <th>Tên sản phẩm</th>
                  <th>Loại</th>
                  <th>Giá nhập (Vốn)</th>
                  <th>% Lợi nhuận</th>
                  <th>Giá bán (Tự động)</th>
                  <th>Thao tác</th>
                </tr>
              </thead>
              <tbody id="price-list" class="align-middle"></tbody>
            </table>
          </div>
        </div>
      </section>
    </main>

    <div
      class="alert alert-success py-1"
      role="alert"
      style="display: none"
    ></div>
    <div class="alert alert-danger py-1" role="alert" style="display: none">
      Đã có lỗi xảy ra.
    </div>

    <script src="./js/nav.js"></script>
    <script src="./js/login.js"></script>
    <script src="./js/price.js"></script>
    <script
      src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
      integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
